<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LH-Loading â€” Kinetic Sovereign Final v58</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800&display=swap" rel="stylesheet">

    <style>
        /* ==========================================================================
           1. CORE THEME & GRAND ATMOSPHERE
           ========================================================================== */
        :root {
            --bg-page: oklch(12% 0.01 260);
            --text-headline: oklch(100% 0 0);
            --text-body: oklch(70% 0.01 260);
            --glass-panel: oklch(100% 0 0 / 0.03);
            --glass-border: oklch(100% 0 0 / 0.08);
            --glass-highlight: oklch(100% 0 0 / 0.12);
            --aurora-1: oklch(55% 0.18 260); 
            --aurora-2: oklch(65% 0.15 200); 
            --btn-bg: oklch(100% 0 0);
            --btn-text: oklch(0% 0 0);
            --blob-opacity: 0.4;
        }

        [data-theme="light"] {
            --bg-page: oklch(98% 0.005 260); 
            --text-headline: oklch(20% 0.02 260);
            --text-body: oklch(45% 0.02 260);
            --glass-panel: oklch(0% 0 0 / 0.03);
            --glass-border: oklch(0% 0 0 / 0.06);
            --glass-highlight: oklch(0% 0 0 / 0.08);
            --btn-bg: oklch(20% 0.02 260);
            --btn-text: oklch(100% 0 0);
            --blob-opacity: 0.22;
        }

        body {
            background-color: var(--bg-page);
            color: var(--text-body);
            font-family: 'Inter Tight', sans-serif;
            margin: 0;
            overflow-x: hidden;
            transition: background-color 0.8s ease;
            line-height: 1.5;
        }

        .cinematic-grain {
            position: fixed; inset: 0; pointer-events: none; z-index: 9000; opacity: 0.06;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
        }

        .ambient-blob { 
            position: fixed; border-radius: 50%; filter: blur(100px); z-index: -1; 
            opacity: var(--blob-opacity); transition: background 2s cubic-bezier(0.2, 0.8, 0.2, 1), top 2.5s ease, left 2.5s ease;
            will-change: transform, background; animation: aurora-float 30s infinite alternate ease-in-out;
        }
        .blob-1 { top: -10%; left: -10%; width: 65vw; height: 65vw; background: var(--aurora-1); }
        .blob-2 { bottom: -10%; right: -5%; width: 55vw; height: 55vw; background: var(--aurora-2); animation-delay: -12s; }

        @keyframes aurora-float { 0% { transform: translate(0, 0) rotate(0deg) scale(1); } 100% { transform: translate(10%, 15%) rotate(10deg) scale(1.1); } }

        .nav { position: fixed; top: 0; width: 100%; height: 80px; display: flex; justify-content: space-between; align-items: center; padding: 0 6%; box-sizing: border-box; z-index: 100; backdrop-filter: blur(20px); border-bottom: 1px solid var(--glass-border); }
        .brand { font-weight: 800; font-size: 1.1rem; letter-spacing: -0.04em; color: var(--text-headline); }
        
        .hero { min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; padding: 0 20px; }
        h1 { font-size: clamp(3.5rem, 11vw, 7.5rem); font-weight: 800; letter-spacing: -0.06em; line-height: 0.95; margin: 0 0 30px 0; color: var(--text-headline); }
        .tagline { font-size: clamp(1.1rem, 2.5vw, 1.35rem); max-width: 650px; margin-bottom: 50px; font-weight: 400; color: var(--text-body); opacity: 0.8; }
        .btn-cta { background: var(--btn-bg); color: var(--btn-text); padding: 20px 48px; border-radius: 99px; font-size: 1.1rem; font-weight: 700; border: none; cursor: pointer; transition: 0.5s; box-shadow: 0 10px 30px oklch(from var(--btn-bg) l c h / 0.15); }

        .section-container { padding: 120px 6%; max-width: 1300px; margin: 0 auto; text-align: center; }
        .section-title { font-size: 3rem; color: var(--text-headline); letter-spacing: -0.04em; margin-bottom: 1.5rem; }
        
        .bento-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 24px; margin-top: 50px; text-align: left; }
        .glass-card { background: var(--glass-panel); border: 1px solid var(--glass-border); border-top: 1px solid var(--glass-highlight); border-radius: 36px; padding: 48px; text-align: left; transition: 0.6s; backdrop-filter: blur(12px); }
        .glass-card:hover { transform: translateY(-12px); border-color: var(--text-body); }

        /* --- THE COMPONENT ENGINE --- */
        :root { --lh-h: 0.25rem; --lh-speed: 2.6s; --lh-base: oklch(100% 0 0); --lh-rest: 0.45; --lh-bright: 1.2; }
        
        .lh-wrapper { position: fixed; top: 0; left: 0; width: 100%; height: var(--lh-h); z-index: 10001; opacity: 0; transition: opacity 0.6s ease; pointer-events: none; }
        .lh-wrapper--active { opacity: 1; }
        
        .lh-bar-container { position: absolute; width: 100%; height: var(--lh-h); overflow: hidden; }
        .lh-bar-ui { position: absolute; top: 0; left: 0; width: 100%; height: 100%; transform: translate3d(-100%, 0, 0.5px); will-change: transform; transition: transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1); }
        .lh-mask { position: absolute; inset: 0; border-radius: 99px; overflow: hidden; z-index: 2; background: linear-gradient(90deg, transparent, var(--lh-base)); animation: lh-recoil var(--lh-speed) infinite ease-in-out; }
        .lh-swoosh { position: absolute; inset: 0; z-index: 3; background: linear-gradient(90deg, transparent 40%, oklch(from var(--lh-base) 100% c h / 0.9) 95%, transparent 100%); mix-blend-mode: overlay; animation: lh-flow var(--lh-speed) infinite linear; }
        .lh-glow { position: absolute; top: 50%; right: 0; width: 100%; height: 100%; transform: translate(0, -50%); z-index: 1; animation: lh-pulse var(--lh-speed) infinite; }
        .lh-glow-layer { position: absolute; top: 0; right: 0; height: 100%; border-radius: 99px; background: linear-gradient(90deg, transparent, var(--lh-base)); }
        .l-1 { width: 25%; filter: blur(3px); } .l-2 { width: 55%; filter: blur(12px); opacity: 0.8; } .l-3 { width: 85%; filter: blur(30px); opacity: var(--lh-rest); }

        .lh-bar-ui.is-finished .lh-swoosh { animation: none !important; opacity: 0 !important; }
        .lh-bar-ui.is-finished .lh-glow { animation: none !important; filter: brightness(1) !important; opacity: 0.8 !important; }

        /* PERCEPTION GAP */
        .comp-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; margin-top: 60px; }
        .comp-box { background: var(--glass-panel); border: 1px solid var(--glass-border); border-radius: 36px; padding: 50px; display: flex; flex-direction: column; justify-content: space-between; min-height: 320px; text-align: center; }
        .comp-header { font-size: 0.65rem; font-weight: 800; letter-spacing: 3px; opacity: 0.4; text-transform: uppercase; margin: 0; color: var(--text-headline); }
        .loader-display-area { height: 100px; display: flex; align-items: center; justify-content: center; width: 100%; position: relative; }
        .comp-footer { font-size: 0.85rem; opacity: 0.5; margin: 0; color: var(--text-body); }
        .spinner { width: 32px; height: 32px; border: 3px solid var(--glass-border); border-top: 3px solid var(--lh-base); border-radius: 50%; animation: spin 1s linear infinite; }

        /* ANATOMY STACK */
        .anatomy-stack { position: relative; height: 450px; display: flex; flex-direction: column; justify-content: center; align-items: center; cursor: crosshair; perspective: 1200px; }
        .layer-preview { width: 320px; height: 10px; margin: 24px 0; border-radius: 99px; transition: 0.8s cubic-bezier(0.2, 0.8, 0.2, 1); position: relative; transform-style: preserve-3d; }
        .layer-label { position: absolute; left: -180px; top: -5px; font-size: 0.75rem; font-weight: 800; opacity: 0; transition: 0.5s; letter-spacing: 2px; text-transform: uppercase; color: var(--lh-base); white-space: nowrap; pointer-events: none; }
        .anatomy-stack:hover .layer-preview { transform: rotateX(50deg) rotateZ(-12deg) translateY(var(--offset)); opacity: 1; }
        .anatomy-stack:hover .layer-label { opacity: 0.7; left: -140px; }
        .layer-body { background: var(--lh-base); }
        .layer-glow { background: var(--lh-base); filter: blur(25px); opacity: var(--lh-rest); mix-blend-mode: plus-lighter; }
        .layer-swoosh { background: linear-gradient(90deg, transparent, var(--lh-base)); box-shadow: 0 0 15px var(--lh-base); }
        .layer-grain { background: repeating-linear-gradient(90deg, transparent, var(--lh-base) 2px); opacity: 0.15; mix-blend-mode: overlay; }

        .palette-container { display: flex; justify-content: center; gap: 20px; margin-top: 50px; flex-wrap: wrap; }
        .color-dot { width: 44px; height: 44px; border-radius: 50%; cursor: pointer; border: 3px solid transparent; transition: 0.4s; }
        .color-dot.active { border-color: var(--text-headline); transform: scale(1.15); }

        .reveal { opacity: 0; transform: translateY(40px); transition: 1.2s cubic-bezier(0.2, 0.8, 0.2, 1); }
        .reveal.active { opacity: 1; transform: translateY(0); }
        .theme-fab { position: fixed; bottom: 35px; right: 35px; width: 55px; height: 55px; border-radius: 50%; background: var(--btn-bg); color: var(--btn-text); border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; z-index: 2000; box-shadow: 0 10px 30px oklch(0% 0 0 / 0.1); }

        @keyframes lh-flow { 0% { transform: translateX(-105%); } 100% { transform: translateX(105%); } }
        @keyframes lh-pulse { 0%, 65% { opacity: var(--lh-rest); filter: brightness(var(--lh-bright)); } 85% { opacity: 1; filter: brightness(calc(var(--lh-bright) * 1.8)); } 100% { opacity: var(--lh-rest); } }
        @keyframes lh-recoil { 0%, 75% { transform: scaleY(1); } 85% { transform: scaleY(1.5); } 100% { transform: scaleY(1); } }
        @keyframes spin { to { transform: rotate(360deg); } }
    </style>
</head>
<body>

    <div class="cinematic-grain"></div>
    <div class="ambient-blob blob-1" id="blob1"></div>
    <div class="ambient-blob blob-2" id="blob2"></div>

    <nav class="nav reveal">
        <div class="brand">LHâ€¢AURORA</div>
        <div style="font-size: 0.7rem; font-weight: 800; letter-spacing: 3px; opacity: 0.4;">SOVEREIGN v58</div>
    </nav>

    <div id="lh-root" class="lh-wrapper" aria-hidden="true">
        <div class="lh-bar-container">
            <div id="lh-bar-master" class="lh-bar-ui">
                <div class="lh-mask"><div class="lh-swoosh"></div></div>
                <div class="lh-glow">
                    <div class="lh-glow-layer l-1"></div>
                    <div class="lh-glow-layer l-2"></div>
                    <div class="lh-glow-layer l-3"></div>
                </div>
            </div>
        </div>
    </div>

    <section class="hero">
        <h1 class="reveal">Stop Waiting.<br>Start Watching.</h1>
        <p class="tagline reveal">Turn every millisecond into a cinematic experience.</p>
        <button class="btn-cta reveal" onclick="triggerDemo()">Experience the Motion</button>
    </section>

    <section class="section-container reveal">
        <h2 class="section-title">Silence the Anxiety.</h2>
        <div class="comp-grid">
            <div class="comp-box">
                <h4 class="comp-header">The Mechanical Way</h4>
                <div class="loader-display-area"><div class="spinner"></div></div>
                <p class="comp-footer">DISCONNECTED</p>
            </div>
            <div class="comp-box">
                <h4 class="comp-header">The Organic Way</h4>
                <div class="loader-display-area">
                    <div class="lh-bar-container" style="background: var(--glass-border); border-radius: 99px;">
                        <div id="lh-bar-mini" class="lh-bar-ui">
                            <div class="lh-mask"><div class="lh-swoosh"></div></div>
                            <div class="lh-glow">
                                <div class="lh-glow-layer l-1"></div>
                                <div class="lh-glow-layer l-2"></div>
                                <div class="lh-glow-layer l-3"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <p class="comp-footer">ALIVE</p>
            </div>
        </div>
    </section>

    <section class="section-container reveal">
        <h2 class="section-title">Visceral Engineering.</h2>
        <div class="bento-grid">
            <div class="glass-card">
                <span style="font-size: 2rem; margin-bottom: 25px; display: block;">ðŸŽ¥</span>
                <h3>Tactile Texture.</h3>
                <p>A precision-tuned film grain overlay that eliminates digital artifacts and adds organic warmth.</p>
            </div>
            <div class="glass-card">
                <span style="font-size: 2rem; margin-bottom: 25px; display: block;">ðŸ’§</span>
                <h3>Kinetic Physics.</h3>
                <p>The bar expands and recoils based on energy impact, creating a sense of weight and presence.</p>
            </div>
            <div class="glass-card">
                <span style="font-size: 2rem; margin-bottom: 25px; display: block;">âœ¨</span>
                <h3>Atmospheric Glow.</h3>
                <p>Multi-layered luminescence that bleeds into the UI, making the loader feel like part of the glass.</p>
            </div>
        </div>
    </section>

    <section class="section-container reveal">
        <h2 class="section-title">Beneath the Surface.</h2>
        <div class="anatomy-stack">
            <div class="layer-preview layer-grain" style="--offset: -100px;"><span class="layer-label">Film Grain Tint</span></div>
            <div class="layer-preview layer-swoosh" style="--offset: -35px;"><span class="layer-label">Kinetic Swoosh</span></div>
            <div class="layer-preview layer-body" style="--offset: 35px;"><span class="layer-label">Physical Body</span></div>
            <div class="layer-preview layer-glow" style="--offset: 100px;"><span class="layer-label">Atmospheric Glow</span></div>
        </div>
    </section>

    <section class="section-container reveal" style="padding-bottom: 150px;">
        <h2 class="section-title">The Master Palette.</h2>
        <div class="palette-container">
            <div class="color-dot active" style="background: oklch(100% 0 0);" onclick="applyPreset('oklch(100% 0 0)', this)"></div>
            <div class="color-dot" style="background: oklch(99% 0.04 80); border: 2px solid oklch(100% 0 0 / 0.4);" onclick="applyPreset('oklch(99% 0.04 80)', this)"></div> 
            <div class="color-dot" style="background: oklch(80% 0.2 180);" onclick="applyPreset('oklch(80% 0.2 180)', this)"></div>
            <div class="color-dot" style="background: oklch(60% 0.2 300);" onclick="applyPreset('oklch(60% 0.2 300)', this)"></div>
            <div class="color-dot" style="background: oklch(65% 0.25 15);" onclick="applyPreset('oklch(65% 0.25 15)', this)"></div>
        </div>
    </section>

    <footer style="padding: 80px 0; text-align: center; opacity: 0.2; font-size: 0.7rem; letter-spacing: 4px;">LH-LOADING SOVEREIGN 2026</footer>

    <button class="theme-fab" onclick="toggleTheme()"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg></button>

    <script>
        const presets = {
            'oklch(100% 0 0)': { h: '0.25rem', speed: '2.6s', glow: 0.45, bright: 1.2 },
            'oklch(99% 0.04 80)': { h: '0.35rem', speed: '2.0s', glow: 0.85, bright: 2.5 }, 
            'oklch(80% 0.2 180)': { h: '0.3rem',  speed: '1.6s', glow: 0.7, bright: 1.6 },
            'oklch(60% 0.2 300)': { h: '0.2rem',  speed: '3.2s', glow: 0.5, bright: 1.3 },
            'oklch(65% 0.25 15)': { h: '0.3rem',  speed: '2.0s', glow: 0.65, bright: 1.8 }
        };

        let lastActiveColor = null;

        const LH = (() => {
            const master = document.getElementById('lh-bar-master');
            let state = { p: -100, on: false, tid: null };
            const render = () => {
                master.style.transform = `translate3d(${state.p}%, 0, 0.5px)`;
                if (state.on) {
                    state.p += (-0.1 - state.p) * (state.p < -30 ? 0.05 : 0.005);
                    state.tid = requestAnimationFrame(render);
                }
            };
            return {
                start() {
                    if (state.on) return;
                    this.stop(); state.on = true; state.p = -100;
                    master.classList.remove('is-finished');
                    master.style.transition = 'none';
                    requestAnimationFrame(() => {
                        document.getElementById('lh-root').classList.add('lh-wrapper--active');
                        master.style.transition = 'transform .8s cubic-bezier(0.2, 0.8, 0.2, 1)';
                        state.p = -60; render();
                    });
                },
                stop() { state.on = false; cancelAnimationFrame(state.tid); },
                done() {
                    this.stop(); 
                    master.style.transition = 'transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1)';
                    state.p = 0; render();
                    master.classList.add('is-finished');
                    setTimeout(() => { 
                        document.getElementById('lh-root').classList.remove('lh-wrapper--active'); 
                        setTimeout(() => { state.p = -100; master.classList.remove('is-finished'); }, 700); 
                    }, 600);
                }
            };
        })();

        // LOGIKA KINETIC INTEGRITY (FORCE REFLOW)
        function startMiniLoop() {
            const mini = document.getElementById('lh-bar-mini');
            const cycle = () => {
                // 1. HARD RESET
                mini.classList.remove('is-finished');
                mini.style.transition = 'none';
                mini.style.opacity = '1';
                mini.style.transform = 'translate3d(-100%, 0, 0)';
                
                // 2. FORCE REFLOW (The Fix)
                void mini.offsetWidth; 

                // 3. START CREEP
                requestAnimationFrame(() => {
                    mini.style.transition = 'transform 3.5s cubic-bezier(0.2, 0.8, 0.2, 1)';
                    mini.style.transform = 'translate3d(-20%, 0, 0)';
                    
                    setTimeout(() => {
                        // 4. GRAND FINISH
                        mini.style.transition = 'transform 0.5s ease-out'; // Overwrite transition
                        mini.style.transform = 'translate3d(0%, 0, 0)';
                        
                        setTimeout(() => {
                            mini.classList.add('is-finished');
                            
                            setTimeout(() => {
                                mini.style.transition = 'opacity 0.5s ease';
                                mini.style.opacity = '0';
                                setTimeout(cycle, 500); // RESTART
                            }, 2000); // 2s Satisfaction Pause
                        }, 500);
                    }, 3500);
                });
            };
            cycle();
        }

        function applyPreset(color, btn) {
            const root = document.documentElement;
            const isLight = root.getAttribute('data-theme') === 'light';
            const config = presets[color] || presets['oklch(100% 0 0)'];
            
            root.style.setProperty('--lh-base', color);
            root.style.setProperty('--lh-h', config.h);
            root.style.setProperty('--lh-speed', config.speed);
            root.style.setProperty('--lh-rest', isLight ? 0.6 : config.glow);
            root.style.setProperty('--lh-bright', config.bright);

            const hueMatch = color.match(/[\d.]+(?=\))/);
            if (hueMatch && !color.includes('100% 0 0')) {
                const h = parseFloat(hueMatch[0]);
                const c = isLight ? 0.08 : 0.18;
                const l = isLight ? '85%' : '55%';
                root.style.setProperty('--aurora-1', `oklch(${l} ${c} ${(h + 120) % 360})`);
                root.style.setProperty('--aurora-2', `oklch(${l} ${c} ${(h + 240) % 360})`);
            } else {
                root.style.setProperty('--aurora-1', isLight ? 'oklch(90% 0.08 260)' : 'oklch(55% 0.18 260)');
                root.style.setProperty('--aurora-2', isLight ? 'oklch(90% 0.08 200)' : 'oklch(65% 0.15 200)');
            }

            if (color !== lastActiveColor) {
                const b1 = document.getElementById('blob1');
                const b2 = document.getElementById('blob2');
                b1.style.top = `${Math.random() * 40 - 20}%`;
                b1.style.left = `${Math.random() * 40 - 20}%`;
                b2.style.bottom = `${Math.random() * 40 - 15}%`;
                b2.style.right = `${Math.random() * 40 - 20}%`;
                lastActiveColor = color;
            }

            document.querySelectorAll('.color-dot').forEach(d => d.classList.remove('active'));
            if(btn) btn.classList.add('active');
            triggerDemo();
        }

        function toggleTheme() {
            const root = document.documentElement;
            root.setAttribute('data-theme', root.getAttribute('data-theme') === 'dark' ? 'light' : 'dark');
            const activeDot = document.querySelector('.color-dot.active');
            applyPreset(activeDot.style.backgroundColor || 'oklch(100% 0 0)', activeDot);
        }

        window.addEventListener('load', () => {
            startMiniLoop();
            LH.start();
            setTimeout(() => {
                LH.done();
                document.querySelectorAll('.reveal').forEach((el, i) => setTimeout(() => el.classList.add('active'), i * 150 + 500));
            }, 2500);
        });

        function triggerDemo() { LH.start(); setTimeout(() => LH.done(), 2800); }

        window.addEventListener('scroll', () => {
            const y = window.scrollY;
            document.getElementById('blob1').style.transform = `translate3d(0, ${y * 0.25}px, 0)`; 
            document.getElementById('blob2').style.transform = `translate3d(0, ${-y * 0.2}px, 0)`;
        });
    </script>
</body>
</html>