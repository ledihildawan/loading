<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>V32 | The Final Event Horizon</title>
  <style>
    /* ============================================================
       1. COSMIC SYSTEM TOKENS
       ============================================================ */
    :root {
      --bg: oklch(4% 0.01 260); 
      --text: oklch(98% 0.01 260);
      --brand: oklch(75% 0.3 265); 
      --brand-glow: color-mix(in oklch, var(--brand), transparent 20%);
      --line-color: oklch(20% 0.02 260); 

      --speed: 1.2s; 
      --phys-ease: cubic-bezier(0.4, 0, 0.2, 1);
      --d-size: clamp(10px, 1.2vw, 12px);
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    
    body { 
      background-color: var(--bg); 
      color: var(--text); 
      font-family: 'Inter', system-ui, sans-serif; 
      overflow: hidden; 
      -webkit-font-smoothing: antialiased;
    }

    /* ============================================================
       2. DEEP SPACE PARALLAX
       ============================================================ */
    .parallax-wrapper { 
      perspective: 12px; perspective-origin: 50% 50%;
      height: 100dvh; overflow-x: hidden; overflow-y: auto; scroll-behavior: smooth;
    }

    .layout-frame { 
      position: relative; margin: 0 auto; width: 100%; max-width: 1400px; 
      transform-style: preserve-3d; min-height: 100%;
    }

    @media (min-width: 1240px) {
      .layout-frame { border-left: 1px dashed var(--line-color); border-right: 1px dashed var(--line-color); }
    }

    .stars { position: absolute; inset: 0; pointer-events: none; z-index: -5; }
    .stars-1 { transform: translateZ(-15px) scale(2.3); background-image: radial-gradient(1px 1px at 10% 20%, #fff, transparent), radial-gradient(1px 1px at 80% 80%, #fff, transparent); background-size: 600px 600px; opacity: 0.2; }
    .stars-2 { transform: translateZ(-5px) scale(1.5); background-image: radial-gradient(1.5px 1.5px at 30% 50%, var(--brand), transparent); background-size: 400px 400px; opacity: 0.4; animation: twinkle 10s infinite alternate; }

    @keyframes twinkle { from { opacity: 0.2; } to { opacity: 0.6; } }

    /* ============================================================
       3. SECTION CONTENT
       ============================================================ */
    .section { height: 100dvh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; padding: 0 10%; transform-style: preserve-3d; position: relative; }
    .bg-text { position: absolute; font-size: 25vw; font-weight: 950; color: var(--brand); opacity: 0.02; transform: translateZ(-10px) scale(1.8); white-space: nowrap; pointer-events: none; }
    .content { transform: translateZ(3px) scale(0.8); z-index: 10; }
    
    .badge { font-size: 0.7rem; font-weight: 800; color: var(--brand); text-transform: uppercase; letter-spacing: 0.6em; margin-bottom: 1.5rem; display: block; }
    h2 { font-size: clamp(3rem, 10vw, 6rem); font-weight: 900; letter-spacing: -0.06em; margin-bottom: 1.5rem; line-height: 0.85; }
    p { font-size: clamp(1rem, 2vw, 1.3rem); color: oklch(70% 0.01 260); max-width: 550px; line-height: 1.6; }

    /* ============================================================
       4. SINGULARITY ENGINE (V32)
       ============================================================ */
    .divider { position: relative; width: 100%; height: 2px; z-index: 20; }
    .divider__axis { position: absolute; left: 50%; width: 200vw; height: 1px; transform: translateX(-50%); display: flex; align-items: center; }
    .divider__line { width: 100%; border: none; border-top: 1px dashed var(--line-color); }
    .divider__container { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 100%; max-width: 1400px; height: 100%; display: flex; align-items: center; }
    
    .divider__spark { position: absolute; left: 50%; top: 50%; width: 10px; height: 10px; border-radius: 50%; background: #fff; transform: translate(-50%, -50%) scale(0); box-shadow: 0 0 20px #fff, 0 0 40px var(--brand); z-index: 25; opacity: 0; }
    
    .divider__mask { position: absolute; height: 40px; width: 50%; overflow: hidden; display: flex; align-items: center; }
    .divider__mask--l { left: 0; justify-content: flex-end; }
    .divider__mask--r { right: 0; justify-content: flex-start; }

    .divider__shimmer { position: absolute; height: 2px; width: 100%; opacity: 0; }

    .divider__diamond {
      position: absolute; width: var(--d-size); height: var(--d-size);
      background: transparent; border: 1px solid var(--line-color); border-radius: 1.5px;
      z-index: 5; transition: all 0.4s var(--phys-ease); top: 50%;
    }
    .divider__diamond--l { left: 0; transform: translate(-50%, -50%) rotate(45deg); }
    .divider__diamond--r { left: 100%; transform: translate(-50%, -50%) rotate(45deg); }

    /* --- ANIMATION PHYSICS --- */
    .divider[data-dir="down"][data-state="animating"] .divider__spark { animation: sparkOut 0.5s var(--phys-ease) forwards; }
    .divider[data-dir="up"][data-state="animating"] .divider__spark { animation: sparkIn 0.6s var(--phys-ease) forwards; animation-delay: 0.5s; }

    @keyframes sparkOut { 0% { transform: translate(-50%, -50%) scale(0); opacity: 0; } 30% { transform: translate(-50%, -50%) scale(2.5); opacity: 1; filter: blur(2px); } 100% { transform: translate(-50%, -50%) scale(0); opacity: 0; filter: blur(15px); } }
    @keyframes sparkIn { 0% { transform: translate(-50%, -50%) scale(0); opacity: 0; } 70% { transform: translate(-50%, -50%) scale(2); opacity: 1; } 100% { transform: translate(-50%, -50%) scale(0); opacity: 0; } }

    .divider[data-dir="down"][data-state="animating"] .divider__shimmer--l { background: linear-gradient(to left, #fff, var(--brand) 30%, transparent 100%); transform-origin: right; animation: flowOutL var(--speed) var(--phys-ease) forwards; }
    .divider[data-dir="down"][data-state="animating"] .divider__shimmer--r { background: linear-gradient(to right, #fff, var(--brand) 30%, transparent 100%); transform-origin: left; animation: flowOutR var(--speed) var(--phys-ease) forwards; }
    
    .divider[data-dir="up"][data-state="animating"] .divider__shimmer--l { background: linear-gradient(to right, #fff, var(--brand) 30%, transparent 100%); transform-origin: right; animation: flowInL var(--speed) var(--phys-ease) forwards; }
    .divider[data-dir="up"][data-state="animating"] .divider__shimmer--r { background: linear-gradient(to left, #fff, var(--brand) 30%, transparent 100%); transform-origin: left; animation: flowInR var(--speed) var(--phys-ease) forwards; }

    .divider[data-state="done"] .divider__diamond { background: var(--brand); border-color: var(--brand); box-shadow: 0 0 25px var(--brand-glow), inset 0 0 5px white; }
    .divider[data-dir="up"][data-state="animating"] .divider__diamond { background: transparent; border-color: var(--line-color); box-shadow: none; }

    @keyframes flowOutL { 0% { transform: scaleX(0); opacity: 0; right: 0; } 15% { opacity: 1; } 100% { transform: scaleX(1.5); opacity: 0; right: 100%; } }
    @keyframes flowOutR { 0% { transform: scaleX(0); opacity: 0; left: 0; } 15% { opacity: 1; } 100% { transform: scaleX(1.5); opacity: 0; left: 100%; } }
    @keyframes flowInL { 0% { transform: scaleX(1.5); opacity: 0; right: 100%; } 10% { opacity: 1; } 100% { transform: scaleX(0); opacity: 0; right: 0; filter: blur(8px); } }
    @keyframes flowInR { 0% { transform: scaleX(1.5); opacity: 0; left: 100%; } 10% { opacity: 1; } 100% { transform: scaleX(0); opacity: 0; left: 0; filter: blur(8px); } }
  </style>
</head>
<body>

  <div class="parallax-wrapper" id="cosmicDrive">
    <div class="stars stars-1"></div>
    <div class="stars stars-2"></div>

    <main class="layout-frame">
      
      <section class="section">
        <div class="bg-text">GENESIS</div>
        <div class="content">
          <span class="badge">Expedition Phase I</span>
          <h2>The First Light.</h2>
          <p>Everything began at a single point of infinite density. A cosmic ignition that defined the architecture of time.</p>
        </div>
      </section>

      <div class="divider js-gate" data-state="idle" data-dir="down">
        <div class="divider__axis"><hr class="divider__line">
          <div class="divider__container">
            <div class="divider__spark"></div>
            <div class="divider__mask divider__mask--l"><span class="divider__shimmer divider__shimmer--l"></span></div>
            <div class="divider__mask divider__mask--r"><span class="divider__shimmer divider__shimmer--r"></span></div>
            <span class="divider__diamond divider__diamond--l"></span><span class="divider__diamond divider__diamond--r"></span>
          </div>
        </div>
      </div>

      <section class="section">
        <div class="bg-text">KINETIC</div>
        <div class="content">
          <span class="badge">Phase II: Acceleration</span>
          <h2>Constant Motion.</h2>
          <p>Energy flows as particles traverse the vacuum. Every action triggers a ripple across the galactic grid.</p>
        </div>
      </section>

      <div class="divider js-gate" data-state="idle" data-dir="down">
        <div class="divider__axis"><hr class="divider__line">
          <div class="divider__container">
            <div class="divider__spark"></div>
            <div class="divider__mask divider__mask--l"><span class="divider__shimmer divider__shimmer--l"></span></div>
            <div class="divider__mask divider__mask--r"><span class="divider__shimmer divider__shimmer--r"></span></div>
            <span class="divider__diamond divider__diamond--l"></span><span class="divider__diamond divider__diamond--r"></span>
          </div>
        </div>
      </div>

      <section class="section">
        <div class="bg-text">VOID</div>
        <div class="content">
          <span class="badge">Phase III: The Vacuum</span>
          <h2>Silent Echoes.</h2>
          <p>In the vast emptiness between stars, we find the true meaning of structural balance and symmetry.</p>
        </div>
      </section>

      <div class="divider js-gate" data-state="idle" data-dir="down">
        <div class="divider__axis"><hr class="divider__line">
          <div class="divider__container">
            <div class="divider__spark"></div>
            <div class="divider__mask divider__mask--l"><span class="divider__shimmer divider__shimmer--l"></span></div>
            <div class="divider__mask divider__mask--r"><span class="divider__shimmer divider__shimmer--r"></span></div>
            <span class="divider__diamond divider__diamond--l"></span><span class="divider__diamond divider__diamond--r"></span>
          </div>
        </div>
      </div>

      <section class="section">
        <div class="bg-text">SINGULAR</div>
        <div class="content">
          <span class="badge">Phase IV: Convergence</span>
          <h2>The Event Horizon.</h2>
          <p>At the edge of a singularity, laws of physics bend. Light is trapped in an eternal loop of return.</p>
        </div>
      </section>

      <div class="divider js-gate" data-state="idle" data-dir="down">
        <div class="divider__axis"><hr class="divider__line">
          <div class="divider__container">
            <div class="divider__spark"></div>
            <div class="divider__mask divider__mask--l"><span class="divider__shimmer divider__shimmer--l"></span></div>
            <div class="divider__mask divider__mask--r"><span class="divider__shimmer divider__shimmer--r"></span></div>
            <span class="divider__diamond divider__diamond--l"></span><span class="divider__diamond divider__diamond--r"></span>
          </div>
        </div>
      </div>

      <section class="section">
        <div class="bg-text">PULSE</div>
        <div class="content">
          <span class="badge">Phase V: Resonance</span>
          <h2>Heart of Stars.</h2>
          <p>Pulsars act as beacons, keeping the celestial engine synchronized through rhythmic bursts of radiation.</p>
        </div>
      </section>

      <div class="divider js-gate" data-state="idle" data-dir="down">
        <div class="divider__axis"><hr class="divider__line">
          <div class="divider__container">
            <div class="divider__spark"></div>
            <div class="divider__mask divider__mask--l"><span class="divider__shimmer divider__shimmer--l"></span></div>
            <div class="divider__mask divider__mask--r"><span class="divider__shimmer divider__shimmer--r"></span></div>
            <span class="divider__diamond divider__diamond--l"></span><span class="divider__diamond divider__diamond--r"></span>
          </div>
        </div>
      </div>

      <section class="section">
        <div class="bg-text">NEBULA</div>
        <div class="content">
          <span class="badge">Phase VI: Formation</span>
          <h2>Stardust Cradle.</h2>
          <p>Clouds of gas and dust collide to form new worlds. Destruction is merely a prelude to creation.</p>
        </div>
      </section>

      <div class="divider js-gate" data-state="idle" data-dir="down">
        <div class="divider__axis"><hr class="divider__line">
          <div class="divider__container">
            <div class="divider__spark"></div>
            <div class="divider__mask divider__mask--l"><span class="divider__shimmer divider__shimmer--l"></span></div>
            <div class="divider__mask divider__mask--r"><span class="divider__shimmer divider__shimmer--r"></span></div>
            <span class="divider__diamond divider__diamond--l"></span><span class="divider__diamond divider__diamond--r"></span>
          </div>
        </div>
      </div>

      <section class="section">
        <div class="bg-text">INFINITY</div>
        <div class="content">
          <span class="badge">Final Phase: Equilibrium</span>
          <h2>Endless Horizon.</h2>
          <p>The journey concludes where it began. In the perfect, infinite silence of the cosmic abyss.</p>
        </div>
      </section>

    </main>
  </div>

  <script>
    let lastY = 0;
    const scrollBox = document.getElementById('cosmicDrive');

    const initV32 = () => {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          const el = entry.target;
          const currentY = scrollBox.scrollTop;
          const direction = currentY > lastY ? 'down' : 'up';

          if (entry.isIntersecting) {
            if (el.getAttribute('data-state') !== 'animating') {
              el.setAttribute('data-dir', direction);
              el.setAttribute('data-state', 'animating');
              
              setTimeout(() => {
                if (el.getAttribute('data-state') === 'animating') {
                  el.setAttribute('data-state', direction === 'down' ? 'done' : 'idle');
                }
              }, 1200); 
            }
          }
          lastY = currentY;
        });
      }, { threshold: 0.95 });

      document.querySelectorAll('.js-gate').forEach(d => observer.observe(d));
    };

    window.addEventListener('DOMContentLoaded', initV32);
  </script>
</body>
</html>