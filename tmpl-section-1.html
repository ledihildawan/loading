<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>V54 | Pluto Scientific Archive - Absolute Cinematic</title>
  <style>
    /* ============================================================
       1. SCIENTIFIC DESIGN TOKENS (OKLCH CORE)
       ============================================================ */
    :root {
      --bg: oklch(5% 0.01 240); 
      --text: oklch(98% 0.01 200);
      --brand: oklch(85% 0.15 200); 
      --brand-glow: color-mix(in oklch, var(--brand), transparent 40%);
      --line-color: oklch(22% 0.03 240); 

      --speed: 1.2s; 
      --phys-ease: cubic-bezier(0.16, 1, 0.3, 1);
      --d-size: 11px;
      --nav-h: 70px;
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    
    body { 
      background-color: var(--bg); color: var(--text); 
      font-family: 'Inter', system-ui, sans-serif; 
      overflow: hidden; -webkit-font-smoothing: antialiased;
    }

    /* ============================================================
       2. CUSTOM SCROLLBAR (OKLCH)
       ============================================================ */
    .parallax-wrapper::-webkit-scrollbar { width: 6px; }
    .parallax-wrapper::-webkit-scrollbar-track { background: var(--bg); border-left: 1px solid var(--line-color); }
    .parallax-wrapper::-webkit-scrollbar-thumb { 
      background: color-mix(in oklch, var(--brand), transparent 70%); 
      border-radius: 10px; 
    }
    .parallax-wrapper::-webkit-scrollbar-thumb:hover { 
      background: var(--brand); 
      box-shadow: 0 0 15px var(--brand-glow); 
    }

    /* ============================================================
       3. UI LAYERS (GRAIN & STICKY NAV)
       ============================================================ */
    .noise-overlay {
      position: fixed; inset: 0; z-index: 100; opacity: 0.04; pointer-events: none;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.7' numOctaves='3'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
    }

    .nav-sticky {
      position: fixed; top: 0; left: 0; width: 100%; height: var(--nav-h);
      display: flex; align-items: center; justify-content: center; z-index: 150;
      background: color-mix(in oklch, var(--bg), transparent 15%);
      backdrop-filter: blur(15px); border-bottom: 1px solid var(--line-color);
    }
    .nav-title { font-family: ui-monospace, monospace; font-weight: 800; letter-spacing: 0.6em; color: var(--brand); font-size: 0.8rem; text-align: center; }

    /* ============================================================
       4. PARALLAX & LAYOUT FRAME
       ============================================================ */
    .parallax-wrapper { 
      perspective: 10px; perspective-origin: 50% 50%;
      height: 100dvh; overflow-x: hidden; overflow-y: auto; scroll-behavior: smooth;
    }

    .stars { position: absolute; inset: 0; pointer-events: none; z-index: -5; }
    .stars-deep { transform: translateZ(-15px) scale(3); background-image: radial-gradient(1px 1px at 15% 15%, var(--text), transparent), radial-gradient(1.5px 1.5px at 85% 85%, var(--text), transparent); background-size: 500px 500px; opacity: 0.3; }
    .haze-atmos { transform: translateZ(-6px) scale(1.8); background: radial-gradient(circle at 50% 40%, color-mix(in oklch, var(--brand), transparent 92%), transparent 70%); filter: blur(50px); opacity: 0.5; }

    .layout-frame { 
      position: relative; margin: 0 auto; width: 100%; max-width: 1300px; 
      transform-style: preserve-3d; min-height: 100%; 
    }
    @media (min-width: 1240px) { .layout-frame { border-left: 1px solid var(--line-color); border-right: 1px solid var(--line-color); } }

    /* ============================================================
       5. KINETIC DIVIDER ENGINE
       ============================================================ */
    .divider { position: relative; width: 100%; height: 2px; z-index: 20; transform: translateZ(0); }
    .divider__axis { position: absolute; left: 50%; width: 200vw; height: 1px; transform: translateX(-50%); display: flex; align-items: center; }
    .divider__line { width: 100%; border: none; border-top: 1px solid var(--line-color); }
    .divider__container { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 100%; max-width: 1300px; height: 100%; display: flex; align-items: center; }
    
    .divider__spark { position: absolute; left: 50%; top: 50%; width: 6px; height: 6px; border-radius: 50%; background: var(--text); transform: translate(-50%, -50%) scale(0); box-shadow: 0 0 20px var(--text), 0 0 40px var(--brand); z-index: 25; opacity: 0; }
    .divider__mask { position: absolute; height: 30px; width: 50%; overflow: hidden; display: flex; align-items: center; }
    .divider__mask--l { left: 0; justify-content: flex-end; }
    .divider__mask--r { right: 0; justify-content: flex-start; }
    .divider__shimmer { position: absolute; height: 2px; width: 85%; opacity: 0; will-change: transform, opacity; }
    .divider__node { position: absolute; width: var(--d-size); height: var(--d-size); background: transparent; border: 1px solid var(--line-color); z-index: 5; transition: all 0.5s var(--phys-ease); top: 50%; }
    .divider__node--l { left: 0; transform: translate(-50%, -50%); }
    .divider__node--r { left: 100%; transform: translate(-50%, -50%); }

    /* ANIMATIONS */
    .divider[data-dir="down"][data-state="animating"] .divider__spark { animation: ignite 0.5s var(--phys-ease) forwards; }
    .divider[data-dir="up"][data-state="animating"] .divider__spark { animation: absorb 0.6s var(--phys-ease) forwards; animation-delay: 0.4s; }
    @keyframes ignite { 0% { transform: translate(-50%, -50%) scale(0); opacity: 0; } 30% { transform: translate(-50%, -50%) scale(2.5); opacity: 1; } 100% { transform: translate(-50%, -50%) scale(0); opacity: 0; } }
    @keyframes absorb { 0% { transform: translate(-50%, -50%) scale(0); opacity: 0; } 75% { transform: translate(-50%, -50%) scale(2); opacity: 1; } 100% { transform: translate(-50%, -50%) scale(0); opacity: 0; } }

    .divider[data-dir="down"][data-state="animating"] .divider__shimmer--l { background: linear-gradient(to left, var(--text), var(--brand) 40%, transparent); transform-origin: right; animation: outL var(--speed) var(--phys-ease) forwards; }
    .divider[data-dir="down"][data-state="animating"] .divider__shimmer--r { background: linear-gradient(to right, var(--text), var(--brand) 40%, transparent); transform-origin: left; animation: outR var(--speed) var(--phys-ease) forwards; }
    .divider[data-dir="up"][data-state="animating"] .divider__shimmer--l { background: linear-gradient(to right, var(--text), var(--brand) 40%, transparent); transform-origin: right; animation: inL var(--speed) var(--phys-ease) forwards; }
    .divider[data-dir="up"][data-state="animating"] .divider__shimmer--r { background: linear-gradient(to left, var(--text), var(--brand) 40%, transparent); transform-origin: left; animation: inR var(--speed) var(--phys-ease) forwards; }

    .divider[data-state="done"] .divider__node { background: var(--brand); border-color: var(--brand); box-shadow: 0 0 25px var(--brand-glow); }
    .divider[data-dir="up"][data-state="animating"] .divider__node { background: transparent; border-color: var(--line-color); box-shadow: none; }

    @keyframes outL { 0% { transform: scaleX(0); opacity: 0; right: 0; } 15% { opacity: 1; } 100% { transform: scaleX(1.4); opacity: 0; right: 100%; } }
    @keyframes outR { 0% { transform: scaleX(0); opacity: 0; left: 0; } 15% { opacity: 1; } 100% { transform: scaleX(1.4); opacity: 0; left: 100%; } }
    @keyframes inL { 0% { transform: scaleX(1.4); opacity: 0; right: 100%; } 10% { opacity: 1; } 100% { transform: scaleX(0); opacity: 0; right: 0; filter: blur(8px); } }
    @keyframes inR { 0% { transform: scaleX(1.4); opacity: 0; left: 100%; } 10% { opacity: 1; } 100% { transform: scaleX(0); opacity: 0; left: 0; filter: blur(8px); } }

    /* ============================================================
       6. VISUAL FRAME HUD (OKLCH OPTIMIZED)
       ============================================================ */
    .visual-frame {
      margin: 3rem 0; width: 100%; max-width: 600px; aspect-ratio: 16/9;
      background: oklch(0% 0 0); 
      border: 1px solid color-mix(in oklch, var(--brand), transparent 70%); 
      position: relative; overflow: hidden;
      box-shadow: 0 30px 60px -20px oklch(0% 0 0 / 0.8);
    }
    /* CRT Scanlines Overlay */
    .visual-frame::after {
      content: ''; position: absolute; inset: 0;
      background: linear-gradient(
        to bottom, 
        transparent 50%, 
        color-mix(in oklch, var(--brand), transparent 97%) 50%
      );
      background-size: 100% 4px; pointer-events: none; z-index: 2;
    }
    /* HUD Corner Brackets */
    .visual-frame::before {
      content: ''; position: absolute; inset: 10px;
      border: 1px solid color-mix(in oklch, var(--brand), transparent 90%);
      pointer-events: none; z-index: 3;
      clip-path: polygon(0 0, 20% 0, 20% 2%, 2% 2%, 2% 20%, 0 20%, 0 0, 100% 0, 100% 20%, 98% 20%, 98% 2%, 80% 2%, 80% 0, 100% 0, 100% 100%, 80% 100%, 80% 98%, 98% 98%, 98% 80%, 100% 80%, 100% 100%, 0 100%, 0 80%, 2% 80%, 2% 98%, 20% 98%, 20% 100%, 0 100%);
    }

    .visual-media {
      width: 100%; height: 100%; object-fit: cover; opacity: 0.75;
      filter: grayscale(100%) brightness(0.8) contrast(1.1) sepia(100%) hue-rotate(175deg) saturate(1.4);
      transition: 1s var(--phys-ease);
    }
    .visual-frame:hover .visual-media { filter: grayscale(0%) brightness(1); transform: scale(1.04); opacity: 1; }
    
    .visual-caption { 
      position: absolute; bottom: 0; left: 0; width: 100%; padding: 10px 18px; 
      background: color-mix(in oklch, var(--bg), transparent 10%); 
      backdrop-filter: blur(5px); border-top: 1px solid var(--line-color); 
      font-family: ui-monospace, monospace; font-size: 0.55rem; color: var(--brand); 
      text-transform: uppercase; letter-spacing: 2px; z-index: 4; display: flex; justify-content: space-between; 
    }
    .rec-dot { width: 7px; height: 7px; background: oklch(60% 0.2 25); border-radius: 50%; display: inline-block; animation: blink 1.2s infinite; margin-right: 8px; }
    @keyframes blink { 50% { opacity: 0.1; } }

    /* ============================================================
       7. TYPOGRAPHY & LAYOUT
       ============================================================ */
    .section, .header-intro { height: 100dvh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; padding: 0 12%; position: relative; transform-style: preserve-3d; }
    .content, .header-visual { display: flex; flex-direction: column; align-items: center; justify-content: center; transform: translateZ(4px) scale(0.7); z-index: 10; will-change: transform; }
    .bg-text { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%) translateZ(-8px) scale(1.8); font-size: 25vw; font-weight: 900; color: var(--brand); opacity: 0.02; white-space: nowrap; pointer-events: none; }
    
    .id-tag { font-family: ui-monospace, monospace; font-size: 0.65rem; color: var(--brand); opacity: 0.6; letter-spacing: 0.4em; margin-bottom: 1.5rem; text-align: center; }
    h1 { font-size: clamp(4rem, 15vw, 10rem); font-weight: 950; letter-spacing: -0.07em; color: var(--brand); line-height: 0.8; margin-bottom: 2rem; text-shadow: 0 0 40px var(--brand-glow); }
    h2 { font-size: clamp(3rem, 10vw, 5.5rem); font-weight: 900; letter-spacing: -0.06em; margin-bottom: 1.5rem; line-height: 0.95; }
    p { font-size: 1.2rem; color: oklch(85% 0.01 240); max-width: 600px; line-height: 1.8; font-weight: 300; }

    .footer { padding: 100px 5% 150px; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; background: var(--bg); transform-style: preserve-3d; }
  </style>
</head>
<body>

  <div class="noise-overlay"></div>

  <nav class="nav-sticky">
    <div class="nav-title">NEW_HORIZONS_DATABASE</div>
  </nav>

  <div class="parallax-wrapper" id="scrollCore">
    <div class="stars stars-deep"></div>
    <div class="stars haze-atmos"></div>

    <main class="layout-frame" id="mainLayout">
      <header class="header-intro">
        <div class="header-visual">
          <p style="font-family: ui-monospace; opacity: 0.5; letter-spacing: 0.5em; font-size: 0.8rem; margin-bottom: 1rem;">STATUS: ARCHIVE_STABLE</p>
          <h1>PLUTO</h1>
          <p style="font-family: ui-monospace; opacity: 0.5; letter-spacing: 0.5em; font-size: 0.8rem;">OBJECT_ID: 134340 // KUIPER BELT</p>
        </div>
      </header>
      
      <footer class="footer">
        <h1 style="font-weight: 900; letter-spacing: 0.2em; opacity: 0.5; font-size: 2rem; margin-bottom: 1.5rem;">HORIZON_REACHED</h1>
        <p style="font-family: ui-monospace, monospace; font-size: 0.7rem; opacity: 0.4; max-width: 450px; line-height: 2; margin-bottom: 3rem;">
          AVG DISTANCE: 5.9 BILLION KM // ORBITAL PERIOD: 248 YEARS // SURFACE TEMP: -232.1°C
        </p>
        <div style="font-family: ui-monospace, monospace; font-size: 0.6rem; opacity: 0.3; letter-spacing: 0.2em;">
            © 2026 DEEP SPACE RESEARCH INST. // NASA DATA ARCHIVE SYNCED
        </div>
      </footer>
    </main>
  </div>

  <script>
    // 1. DYNAMIC CONTENT ARCHIVE
    const chapters = [
      { id: "DISCOVERY_1930", bg: "1930", title: "The Silent Frontier.", text: "Discovered by Clyde Tombaugh in 1930, Pluto redefined our solar system's scale, marking the gateway to the vast Kuiper Belt.", type: "image", src: "public/assets/images/chapter-discovery.avif" },
      { id: "GEOLOGY_HEART", bg: "HEART", title: "The Nitrogen Pulse.", text: "Sputnik Planitia is a massive nitrogen-ice plain forming the left lobe of the 'Heart'. It actively resurfaces itself via convective ice cells.", type: "image", src: "public/assets/images/chapter-geology.avif" },
      { id: "BINARY_SYSTEM", bg: "BINARY", title: "Tidal Symmetry.", text: "Pluto and its moon Charon orbit a shared barycenter in open space. Tidally locked, they forever present the same face to each other.", type: "video", src: "public/assets/videos/chapter-binary-system.mp4" },
      { id: "PEAKS_CRYOHILL", bg: "MONS", title: "Titanium Water-Ice.", text: "Mountains rise 3.5 km high. At -230°C, water ice behaves like granite bedrock, forming jagged spires against the eternal dark.", type: "image", src: "public/assets/images/chapter-peaks.avif" },
      { id: "ATMOS_SCATTER", bg: "HAZE", title: "The Blue Halo.", text: "Sunlight hitting the atmosphere scatters into a blue ring. This is caused by tholins—organic particles created by UV radiation.", type: "image", src: "public/assets/images/chapter-atmosphere.avif" },
      { id: "MISSION_2015", bg: "MISSION", title: "First Contact.", text: "In 2015, NASA's New Horizons completed a 9-year journey, revealing Pluto as a vibrant, complex world for the first time.", type: "video", src: "public/assets/videos/chapter-mission.mp4" },
      { id: "VOID_FUTURE", bg: "VOID", title: "Endless Silence.", text: "Beyond Pluto lies the infinite darkness of the Kuiper Belt—a library of primitive ice worlds holding the secrets of our origin.", type: "video", src: "public/assets/videos/chapter-void.mp4" }
    ];

    const layout = document.getElementById('mainLayout');
    const footer = document.querySelector('.footer');
    const dividerTemplate = `
      <div class="divider js-trigger" data-state="idle">
        <div class="divider__axis"><hr class="divider__line">
          <div class="divider__container">
            <div class="divider__spark"></div>
            <div class="divider__mask divider__mask--l"><span class="divider__shimmer divider__shimmer--l"></span></div>
            <div class="divider__mask divider__mask--r"><span class="divider__shimmer divider__shimmer--r"></span></div>
            <span class="divider__node divider__node--l"></span><span class="divider__node divider__node--r"></span>
          </div>
        </div>
      </div>
    `;

    // 2. DYNAMIC INJECTION
    chapters.forEach((ch, index) => {
      const divElement = document.createElement('div');
      divElement.innerHTML = dividerTemplate;
      layout.insertBefore(divElement.firstElementChild, footer);

      let mediaHTML = '';
      if(ch.src) {
        if(ch.type === 'video') {
          mediaHTML = `<div class="visual-frame"><video class="visual-media" autoplay muted loop playsinline><source src="${ch.src}" type="video/mp4"></video><div class="visual-caption"><span><span class="rec-dot"></span>PROBE_FEED</span><span>${ch.id}_BUFFER</span></div></div>`;
        } else {
          mediaHTML = `<div class="visual-frame"><img src="${ch.src}" class="visual-media" alt="${ch.title}" loading="lazy"><div class="visual-caption"><span>TELEM_CAPTURE</span><span>${ch.id}_RAW</span></div></div>`;
        }
      }

      const sec = document.createElement('section');
      sec.className = 'section';
      sec.innerHTML = `<div class="bg-text">${ch.bg}</div><div class="content"><span class="id-tag">${ch.id}</span><h2>${ch.title}</h2>${mediaHTML}<p>${ch.text}</p></div>`;
      layout.insertBefore(sec, footer);

      if (index === chapters.length - 1) {
        const lastDiv = document.createElement('div');
        lastDiv.innerHTML = dividerTemplate;
        layout.insertBefore(lastDiv.firstElementChild, footer);
      }
    });

    // 3. KINETIC ENGINE (V54 PRECISION)
    const container = document.getElementById('scrollCore');
    let lastY = 0;
    const initOdyssey = () => {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          const el = entry.target;
          const currentY = container.scrollTop;
          const direction = currentY > lastY ? 'down' : 'up';
          if (entry.isIntersecting) {
            if (el.getAttribute('data-state') !== 'animating') {
              el.setAttribute('data-dir', direction);
              el.setAttribute('data-state', 'animating');
              setTimeout(() => { if (el.getAttribute('data-state') === 'animating') el.setAttribute('data-state', direction === 'down' ? 'done' : 'idle'); }, 1250); 
            }
          } else {
            if (entry.boundingClientRect.top > 70) el.setAttribute('data-state', 'idle');
            else el.setAttribute('data-state', 'done');
          }
          lastY = currentY;
        });
      }, { threshold: 0.15, rootMargin: "-70px 0px 0px 0px" });
      document.querySelectorAll('.js-trigger').forEach(d => observer.observe(d));
    };
    window.addEventListener('DOMContentLoaded', initOdyssey);
  </script>
</body>
</html>